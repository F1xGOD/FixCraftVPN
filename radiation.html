<!DOCTYPE html>
<html>
<head>
    <script src="/host.js"></script>
    <script src="/jquery.js"></script>
    <script src="/setup.js"></script>
    <!-- <script src="/password.js" type="module"></script> -->
    <title>FixCraft VPN | Radiation</title>
    <link rel="icon" href="/FixCraft.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
</head>
<body>
    <style>
        body {
     background-color: #f9f9fa
 }

 .flex {
     -webkit-box-flex: 1;
     -ms-flex: 1 1 auto;
     flex: 1 1 auto
 }

 @media (max-width:991.98px) {
     .padding {
         padding: 1.5rem
     }
 }

 @media (max-width:767.98px) {
     .padding {
         padding: 1rem
     }
 }

 .padding {
     padding: 5rem
 }

 .container {
     margin-top: 100px
 }

 .progress.progress-md {
     height: 8px
 }

 .template-demo .progress {
     margin-top: 1.5rem
 }

 .progress {
     border-radius: 3px;
     height: 8px
 }
    </style>
<!-- <div class="page-content page-container" id="page-content">
    <div style="align-items: c;" class="padding">
        <div class="row container d-flex justify-content-center">
            <div class="col-md-6 grid-margin stretch-card"> -->
                <div class="card">
                    <div class="card-body">
                        <h4 id="radtitle" style="display:inline-block" class="card-title">Radiation</h4>
                        <!-- <p class="card-description">Simple striped bootstrap progress bars</p> -->
                        <div class="template-demo">
                            <div class="progress progress-md">
                                <div id="radiation" class="progress-bar progress-bar" role="progressbar" aria-valuenow="0" style="width: 10%" aria-valuemin="0" aria-valuemax="100"></div>
                            </div>
                        </div>
                    </div>
                </div>
            <!-- </div>
        </div>
    </div>
</div> -->
<script>
    function getColor(mSv){
    var value=(mSv/25)+0.1
    if(value>1){var hue=((1-1)*120).toString(10);}else{
    var hue=((1-value)*120).toString(10);}
    return ["hsl(",hue,",100%,50%)"].join("");
}
function getPrecent(mSv){
    var value =(mSv/25)
    if(value>1){value=1}
    value=value*100
    return value
}
var finaldata={}
navigator.geolocation.getCurrentPosition((position) => {
    let latitude = position.coords.latitude;
    let longitude = position.coords.longitude;
    finaldata = locationToRadiationLevel(latitude, longitude)
})
function checkREADY22(){
if(JSON.stringify(finaldata)=="{}"){
  setTimeout(function(){
  checkREADY22()}, 10)
}else{console.log("LOADED!");
var valetxt = finaldata.radiation
var vale = parseFloat(finaldata.radiation.slice(0,-6))
document.getElementById("radiation").style.backgroundColor=getColor(vale)
document.getElementById("radiation").setAttribute("aria-valuenow",getPrecent(vale).toString())
document.getElementById("radiation").style.width=getPrecent(vale)+"%"
document.getElementById("radtitle").outerHTML=document.getElementById("radtitle").outerHTML+`<h4 style=\"float:right\">${valetxt}</h4>`}}
checkREADY22()
</script>
</body></html>