<!DOCTYPE html>
<html>
<head>
<title>ADMIN SETTINGS</title>
  <script src="/host.js"></script>
  <script src="/jquery.js"></script>
  <script src="/setup.js"></script>
  <script src="/password.js" type="module"></script>
  <link rel="stylesheet" href="/snackbar.css">
  <script src="/snackbar.js"></script>
<link rel="icon" href="https://x0.at/CVDX.png">
<link rel="stylesheet" data-purpose="Layout StyleSheet" title="Web Awesome" href="/css/app-wa-462d1fe84b879d730fe2180b0e0354e0.css?vsn=d">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.1/css/all.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-thin.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-solid.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-regular.css">
<link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.5.1/css/sharp-light.css">
<style type="text/css">
  html {height: 100%;}
  .collapsible {cursor: pointer;width: 100%;border: none;text-align: left;color:#4C4C4C;font-weight:bold;font-family:Calibri;font-size:20;}
    .ccontent {display: none;overflow: hidden;color:#4C4C4C;font-weight:bold;font-family:Calibri;font-size:20;}
    div.text { color:#4C4C4C;font-weight:bold;font-family:Calibri;font-size:20; }
    a.text { text-decoration:underline; color:#4C4C4C;font-weight:bold;font-family:Calibri;font-size:20;}
    span.text { color:#4C4C4C;font-weight:bold;font-family:Calibri;font-size:20 }
    span.deactivated { color:#FF0000;font-weight:bold;font-family:Calibri;font-size:20 }
    span.active { color:#36cc00;font-weight:bold;font-family:Calibri;font-size:20 }
    span.suspended { color:#fc9a08;font-weight:bold;font-family:Calibri;font-size:20 }
    .parent {
  text-align: left;
}
.child {
  display: inline-block;
  vertical-align: middle;
}
    button.btn { background-color: DodgerBlue; border: none; color: white; cursor: pointer; padding: 3px 5px; font-size: 13px; border-radius: 4px; }
	button.selffbtn { background-color: rgb(61, 212, 10); border: none; color: white; cursor: pointer; padding: 3px 5px; font-size: 13px; border-radius: 4px; }
  button.btnerr { background-color: rgb(240, 11, 11); border: none; color: white; cursor: pointer; padding: 3px 9px; font-size: 13px; border-radius: 4px; }
  button.save{ background-color: DodgerBlue; border: none; color: white; cursor: pointer; padding: 5px; border-radius: 4px; font-weight:bold;font-family:Calibri;font-size:20 }
	@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap");

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Poppins", sans-serif;
}
section {
  overflow: scroll;
  position: fixed;
  height: 100%;
  width: 100%;
}
button.df {
  font-size: 18px;
  font-weight: 400;
  color: #fff;
  padding: 14px 22px;
  border: none;
  background: #4070f4;
  border-radius: 6px;
  cursor: pointer;
}
button.cnffr {
  font-size: 18px;
  font-weight: 400;
  color: #fff;
  padding: 14px 22px;
  border: none;
  background: #4070f4;
  border-radius: 6px;
  cursor: pointer;
}
button.canc {
  font-size: 18px;
  font-weight: 400;
  color: #fff;
  padding: 14px 22px;
  border: none;
  background: #CF142B;
  border-radius: 6px;
  cursor: pointer;
}
button.df:hover {
  background-color: #265df2;
}
button.cnffr:hover {
  background-color: #265df2;
}
button.canc:hover {
  background-color: #e60019;
}
button.show-modal,
.modal-box {
  position: fixed;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
}
section.active .show-modal {
  display: none;
}
.overlay {
  position: fixed;
  height: 100%;
  width: 100%;
  background: rgba(0, 0, 0, 0.3);
  opacity: 0;
  pointer-events: none;
}
section.active .overlay {
  opacity: 1;
  pointer-events: auto;
}
.modal-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 380px;
  width: 100%;
  padding: 30px 20px;
  border-radius: 24px;
  background-color: #fff;
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s ease;
  transform: translate(-50%, -50%) scale(1.2);
}

section.active .modal-box {
  opacity: 1;
  pointer-events: auto;
  transform: translate(-50%, -50%) scale(1);
}
.modal-box i {
  font-size: 70px;
  color: #4070f4;
}
.modal-box h2 {
  margin-top: 1px;
  margin-bottom:10px;
  font-size: 25px;
  font-weight: 500;
  color: #333;
}
.modal-box h3 {
  font-size: 16px;
  font-weight: 400;
  color: #333;
  align-self: center;
}
.modal-box .buttons {
  margin-top: 25px;
}
.modal-box button {
  font-size: 14px;
  padding: 6px 12px;
  margin: 0 10px;
}
</style>
</head>
<body>
<section>
<span class="overlay"></span>
<div class="text" style="margin: 0px;" id="log">LOADING...</div>
<div class="modal-box">
	<h2 id="dilogttl">Add A New User</h2>
	<form>
	<h3 style="display:inline-block; margin-right:10px; margin-bottom:10px" id="usrnnm">Username:</h3><input style="border-width: 2px;display:block; float:right" type="text" id="usrnam" name="usrrn">
	<div></div>
  <div id="gms">
  <h3 style="display:inline-block; margin-right:10px; margin-bottom:10px" id="usrnnm">URL:</h3><input style="border-width: 2px;display:block; float:right" type="text" id="urll">
	<div></div>
  <h3 style="display:inline-block; margin-right:10px; margin-bottom:10px" id="usrnnm">Image:</h3><input style="border-width: 2px;display:block; float:right" type="text" id="img">
	<div></div>
  <h3 style="display:inline-block; margin-right:10px; margin-bottom:10px" id="usrnnm">ID:</h3><input style="border-width: 2px;display:block; float:right" type="text" id="idg">
	<div></div></div>
  <div id="elsee">
	<h3 style="display:inline-block; margin-right:10px;margin-bottom:10px">Password:</h3><input style="border-width: 2px;display:block; float:right" type="text" id="pssswrd" name="ppsw">
			<div></div>
	<h3 style="display:inline-block; margin-right:10px;margin-bottom:10px">User Job:</h3>
		  <select name="job" id="jobb" style="border-width: 2px;display:block; float:right; width:165px">
	<option id="owner" value="owner">Owner</option>
	<option id="humanres" value="HR">HR</option>
	<option id="debugger" value="debugger">Debugger</option>
	<option id="idea" value="idea">Idea</option>
	<option id="nojob" value="none">None</option>
  </select>
				  <div></div>
						  <h3 style="display:inline-block; margin-right:10px;margin-bottom:10px">User Role:</h3>
		  <select name="role" id="rolee" style="border-width: 2px;display:block; float:right; width:165px">
	<option id="admin" value="admin">Admin</option>
	<option id="moderator" value="moderator">Moderator</option>
	<option id="debuggerrole" value="debugger">Debugger</option>
	<option id="helper" value="helper">Helper</option>
	<option id="user" value="user">User</option>
  </select>
  </div>
  <div id="reassss">
  <h3 style="display:inline-block; margin-right:10px;margin-bottom:10px">Reason:</h3><input style="border-width: 2px;display:block; float:right" type="text" id="reasnn" name="reass">
			</div>
				  <div></div><div id="stat">
	<h3 style="display:inline-block; margin-right:10px">Status:</h3>
		  <select name="sttts" id="stts" style="border-width: 2px;display:block; float:right; width:165px">
	<option value="active">Active</option>
	<option value="deactivated">Deactivated</option>
	<option value="suspended">Suspended</option>
  </select></div>
	</form>
	<div class="buttons">
	  <button class="canc">Cancel</button>
	  <script>
		function ttsts(){
			console.log("Clicked Confirm")
		}
	  </script>
	  <button class="cnffr" id="confrmbtn" onclick="ttsts();">Add User</button>
	</div>
  </div>
<script>
const module = {};
const section = document.querySelector("section"),
        overlay = document.querySelector(".overlay"),
		cnfrm = document.querySelector(".cnffr"),
        closeBtn = document.querySelector(".canc");

      overlay.addEventListener("click", () =>
        section.classList.remove("active")
      );

      closeBtn.addEventListener("click", () =>
        section.classList.remove("active")
      );

</script>
<script type="module">
import { initializeApp} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
import { getDatabase, ref, onValue, set } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
const firebaseConfig = { apiKey: "AIzaSyAQ89agVS02dwVK9-yWwpZOvMkQWLiKcEM", authDomain: "fixcraft-vpn.firebaseapp.com", databaseURL: "https://fixcraft-vpn-default-rtdb.firebaseio.com", projectId: "fixcraft-vpn", storageBucket: "fixcraft-vpn.appspot.com", messagingSenderId: "811886239981", appId: "1:811886239981:web:9e43da7b31be5f7fb1ace4", measurementId: "G-CTR9TEET9E" };
const app = initializeApp(firebaseConfig);
const db = getDatabase();
var actdata = {};
var hosts ={};
var games = {};
var sessiondata ={};
var originalactdata ={};
function snackbar_Loading(passedvar) {
                        SnackBar({
                            message: `Loading... (${passedvar})`,
							timeout:650,
							dismissible:false,
                            status: "warning"
                        });
                    };
function snackbar_Successs() {
                        SnackBar({
                            message: `Saved Successfully!`,
							timeout:1560,
							dismissible:false,
                            status: "success"
                        });
                    };
function snackbar_Fail(passedvar) {
                        SnackBar({
                            message: `Can't Edit User ${passedvar} Because The User Has A Higher Privilege!`,
							timeout:1560,
							dismissible:false,
                            status: "fail"
                        });
                    };
function snackbar_Failg() {
                        SnackBar({
                            message: `You Can't Edit Yourself!`,
							timeout:1560,
							dismissible:false,
                            status: "fail"
                        });
                    };
function snackbar_Successs2() {
                        SnackBar({
                            message: `Loaded Successfully!`,
							timeout:1560,
							dismissible:false,
                            status: "success"
                        });
                    };
const infodat = ref(db, 'data');
function readd(){
onValue(infodat, (snapshot) => {
    var data = snapshot.val();
	games=data.games
	sessiondata=data.session
	hosts=data.hosts
    actdata=data.data
    originalactdata=data.data
  })};
  readd();
function getCookie(cname) {
	let name = cname + "=";
	let decodedCookie = decodeURIComponent(document.cookie);
	let ca = decodedCookie.split(';');
	for(let i = 0; i < ca.length; i++) {
	  let c = ca[i];
	  while (c.charAt(0) == ' ') {
		c = c.substring(1);
	  }
	  if (c.indexOf(name) == 0) {
		return c.substring(name.length, c.length);
	  }
	}
	return "";
  }
function setCookie(cname,cvalue,exdays) {
          const d = new Date();
          d.setTime(d.getTime() + (exdays*24*60*60*1000));
          let expires = "expires=" + d.toUTCString();
          document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}
module.writeus = function writeus() {
  const db = getDatabase();
  set(ref(db, 'data'), {
    data: actdata,
games: games,
	session: sessiondata,
	  hosts:hosts
  });
  snackbar_Successs();
}


function ReplaceContent(NC) {
	document.open();
	document.write(NC);
	document.close();
	  }
function checkREADY22(fistt){
if(JSON.stringify(actdata)=="{}"){
  setTimeout(function(){
  checkREADY22(true)}, 10)
}else{console.log("LOADED!");
module.delac = function delac(actid) { 
snackbar_Loading(`Deleting - ${atob(actdata.accounts[actid].username)}`);
actdata.deletedaccounts=actdata.deletedaccounts.concat(actdata.accounts[actid]);
var test = []
for (let i24 = 0; i24 < actdata.accounts.length; i24++) {
    if (actdata.accounts[i24] !== actdata.accounts[actid]) {
        test.push(actdata.accounts[i24]);
    }
}

actdata.accounts=test;
test=[];
var reas="DELETED - NO REASON!"
var positem =actdata.deletedaccounts[actdata.deletedaccounts.length-1];
actdata.deletedaccounts[actdata.deletedaccounts.length-1]=JSON.parse(JSON.stringify(positem).replace("}","")+`,\"reason\":\"${reas}\"}`)
checkREADY22(false);
};
module.ssc = function scc(){
  var uuun=originalactdata
  actdata=uuun;
  snackbar_Successs2();
  checkREADY22(false);
}
module.rest = function rest(actid) {
snackbar_Loading(`Restoring - ${atob(actdata.deletedaccounts[actid].username)}`);
delete actdata.deletedaccounts[actid].reason;
actdata.accounts=actdata.accounts.concat(actdata.deletedaccounts[actid]);
var test2 = [];
for (let i241 = 0; i241 < actdata.deletedaccounts.length; i241++) {
    if (actdata.deletedaccounts[i241] !== actdata.deletedaccounts[actid]) {
        test2=test2.concat(actdata.deletedaccounts[i241]);
    };
}
actdata.deletedaccounts=test2;
test2=[];
checkREADY22(false);
};

module.activ = function activ(actid) { 
snackbar_Loading(`Activating - ${atob(actdata.accounts[actid].username)}`);
actdata.accounts[actid].status="active"
delete actdata.accounts[actid].deactreason
checkREADY22(false);
};

module.editt = function editt(actid, deacts) { 
var ii2i= 0;
var role = ""
var uname = getCookie("usernamecred");
uname=btoa(uname)
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		role=actdata.accounts[ii2i].role
	}
	ii2i++
}
ii2i=0;
var job=""
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		job=actdata.accounts[ii2i].job
	}
	ii2i++
}
var accesslevel = 0
if(role=="debugger"){ accesslevel=2}else{if(role=="moderator"){ accesslevel=3}if(role=="admin"){ accesslevel=4}}
document.getElementById("dilogttl").innerHTML="Edit An Existing User";
document.getElementById("confrmbtn").innerHTML="Apply";
document.getElementById("elsee").style.display="block";
document.getElementById("pssswrd").style.display="block";
document.getElementById("gms").style.display="none";
document.getElementById("stat").style.display="block";
document.getElementById("pssswrd").style.display="block";
document.getElementById("usrnnm").innerHTML="Username:";
document.getElementById("rolee").value=actdata.accounts[actid].role;
document.getElementById("jobb").value=actdata.accounts[actid].job;
document.getElementById("stts").value=actdata.accounts[actid].status;
document.getElementById("usrnam").value=atob(actdata.accounts[actid].username);
document.getElementById("pssswrd").value=atob(actdata.accounts[actid].password);
if(job!="owner"){document.getElementById("owner").style.display="none"}else{document.getElementById("owner").style.display="block"}
if(accesslevel<4){ document.getElementById("admin").style.display="none";if(accesslevel<3){document.getElementById("moderator").style.display="none"}else{document.getElementById("moderator").style.display="block"}}else{document.getElementById("admin").style.display="block"}
if(deacts==1){
  document.getElementById("reassss").style.display="block";
  document.getElementById("reasnn").value=actdata.accounts[actid].deactreason;
}else{
  document.getElementById("reassss").style.display="none";
}

section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  section.classList.remove("active");
  if(accesslevel<4&&document.getElementById("rolee").value=="admin"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"};if(accesslevel<3&&document.getElementById("rolee").value=="moderator"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"}
  if(job!="owner"&&document.getElementById("jobb").value=="owner"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"}
	actdata.accounts[actid].role=document.getElementById("rolee").value;
	actdata.accounts[actid].job=document.getElementById("jobb").value;
  actdata.accounts[actid].deactreason=document.getElementById("reasnn").value;
	actdata.accounts[actid].status=document.getElementById("stts").value;
	actdata.accounts[actid].username=btoa(document.getElementById("usrnam").value);
	actdata.accounts[actid].password=btoa(document.getElementById("pssswrd").value);
	section.classList.remove("active");
	snackbar_Loading(`Saving - ${atob(actdata.accounts[actid].username)}`);
	checkREADY22(false);
}
      );
};

module.edittgm = function edittgm(actid) { 
document.getElementById("dilogttl").innerHTML="Edit An Existing Game";
document.getElementById("confrmbtn").innerHTML="Apply";
document.getElementById("elsee").style.display="none";
document.getElementById("gms").style.display="block";
document.getElementById("stat").style.display="none";
document.getElementById("usrnnm").innerHTML="Name:";
document.getElementById("reassss").style.display="none";
document.getElementById("usrnam").value=games[actid].title;
document.getElementById("idg").value=games[actid].id;
document.getElementById("urll").value=games[actid].url;
document.getElementById("img").value=games[actid].image;
document.getElementById("pssswrd").style.display="none";
section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  section.classList.remove("active");
	games[actid].title=document.getElementById("usrnam").value;
	games[actid].id=document.getElementById("idg").value;
	games[actid].url=document.getElementById("urll").value;
  games[actid].image=document.getElementById("img").value;
	section.classList.remove("active");
	snackbar_Loading(`Saving - ${games[actid].title}`);
	checkREADY22(false);
}
      );
};

module.editlog = function editlog(actid) { 
  if(actid==0){ 
  document.getElementById("stattsin").style.display="inline-block";
  document.getElementById("stattsin").value=actdata.status;
  document.getElementById("statts").style.display="none";
  document.getElementById("stattsconf").style.display="inline-block";
  document.getElementById("stattsee").style.display="none";}else{
  document.getElementById("triessin").style.display="inline-block";
  document.getElementById("triessin").value=actdata.tries-1;
  document.getElementById("triess").style.display="none";
  document.getElementById("triessconf").style.display="inline-block";
  document.getElementById("triessed").style.display="none";
  }
};

module.editlogsave = function editlogsave(actid) {
  if(actid==0){ 
  document.getElementById("stattsin").style.display="none";
  actdata.status=document.getElementById("stattsin").value;
  document.getElementById("statts").style.display="block";
  document.getElementById("stattsconf").style.display="none";
  document.getElementById("stattsee").style.display="block";
  snackbar_Loading(`Saving - STATUS: ${actdata.status.toUpperCase()}`);
  checkREADY22(false);
}else{
  document.getElementById("triessin").style.display="none";
  actdata.tries=(parseInt(document.getElementById("triessin").value)+1).toString()
  document.getElementById("triess").style.display="block";
  document.getElementById("triessconf").style.display="none";
  document.getElementById("triessed").style.display="block";
  snackbar_Loading(`Saving - ${actdata.tries-1} LOGIN ATTEMPTS`);
  checkREADY22(false);
  }
};

module.errr = function errr(actid) {
snackbar_Fail(atob(actdata.accounts[actid].username))
 }

module.edittdd = function edittdd(actid) { 
var ii2i= 0;
var role = ""
var uname = getCookie("usernamecred");
uname=btoa(uname)
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		role=actdata.accounts[ii2i].role
	}
	ii2i++
}
ii2i=0;
var job=""
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		job=actdata.accounts[ii2i].job
	}
	ii2i++
}
var accesslevel = 0
if(role=="debugger"){ accesslevel=2}else{if(role=="moderator"){ accesslevel=3}if(role=="admin"){ accesslevel=4}}
document.getElementById("dilogttl").innerHTML="Edit A Deleted User";
document.getElementById("confrmbtn").innerHTML="Apply";
document.getElementById("elsee").style.display="block";
document.getElementById("stat").style.display="block";
document.getElementById("gms").style.display="none";
document.getElementById("pssswrd").style.display="block";
document.getElementById("usrnnm").innerHTML="Username:";
document.getElementById("rolee").value=actdata.deletedaccounts[actid].role;
document.getElementById("jobb").value=actdata.deletedaccounts[actid].job;
document.getElementById("stts").value=actdata.deletedaccounts[actid].status;
document.getElementById("usrnam").value=atob(actdata.deletedaccounts[actid].username);
document.getElementById("pssswrd").value=atob(actdata.deletedaccounts[actid].password);
document.getElementById("reassss").style.display="block";
document.getElementById("reasnn").value=actdata.deletedaccounts[actid].reason;
if(accesslevel<4){document.getElementById("admin").style.display="none";if(accesslevel<3){document.getElementById("moderator").style.display="none"}else{document.getElementById("moderator").style.display="block"}}else{document.getElementById("admin").style.display="block"}
if(job!="owner"){document.getElementById("owner").style.display="none"}else{document.getElementById("owner").style.display="block"}
section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  if(accesslevel<4&&document.getElementById("rolee").value=="admin"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"};if(accesslevel<3&&document.getElementById("rolee").value=="moderator"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"}
  if(job!="owner"&&document.getElementById("jobb").value=="owner"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"}
  section.classList.remove("active");
	actdata.deletedaccounts[actid].role=document.getElementById("rolee").value;
	actdata.deletedaccounts[actid].job=document.getElementById("jobb").value;
	actdata.deletedaccounts[actid].status=document.getElementById("stts").value;
  actdata.deletedaccounts[actid].reason=document.getElementById("reasnn").value;
	actdata.deletedaccounts[actid].username=btoa(document.getElementById("usrnam").value);
	actdata.deletedaccounts[actid].password=btoa(document.getElementById("pssswrd").value);
	section.classList.remove("active");
	snackbar_Loading(`Saving - ${atob(actdata.deletedaccounts[actid].username)}`);
	checkREADY22(false);
}
      );
};

module.addac = function addac() { 
var ii2i= 0;
var role = ""
var uname = getCookie("usernamecred");
uname=btoa(uname)
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		role=actdata.accounts[ii2i].role
	}
	ii2i++
}
ii2i=0;
var job=""
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		job=actdata.accounts[ii2i].job
	}
	ii2i++
}
var accesslevel = 0
if(role=="debugger"){ accesslevel=2}else{if(role=="moderator"){ accesslevel=3}if(role=="admin"){ accesslevel=4}}
document.getElementById("dilogttl").innerHTML="Add A User";
document.getElementById("confrmbtn").innerHTML="Add";
document.getElementById("pssswrd").style.display="block";
document.getElementById("usrnnm").innerHTML="Username";
document.getElementById("rolee").value="user";
document.getElementById("jobb").value="none";
document.getElementById("elsee").style.display="block";
document.getElementById("stat").style.display="block";
document.getElementById("stts").value="active";
document.getElementById("gms").style.display="none";
document.getElementById("usrnam").value="Username";
document.getElementById("pssswrd").value="Password";
document.getElementById("reassss").style.display="none";
if(accesslevel<4){document.getElementById("admin").style.display="none";if(accesslevel<3){document.getElementById("moderator").style.display="none"}else{document.getElementById("moderator").style.display="block"}}else{document.getElementById("admin").style.display="block"}
if(job!="owner"){document.getElementById("owner").style.display="none"}else{document.getElementById("owner").style.display="block"}
section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  if(accesslevel<4&&document.getElementById("rolee").value=="admin"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"};if(accesslevel<3&&document.getElementById("rolee").value=="moderator"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"}
  if(job!="owner"&&document.getElementById("jobb").value=="owner"){throw "You Can't Make Someone's Role Or Job Higher Than Yours!"}
  section.classList.remove("active");
  var toaddac = {}
	toaddac.role=document.getElementById("rolee").value;
	toaddac.job=document.getElementById("jobb").value;
	toaddac.status=document.getElementById("stts").value;
	toaddac.username=btoa(document.getElementById("usrnam").value);
	toaddac.password=btoa(document.getElementById("pssswrd").value);
  actdata.accounts=actdata.accounts.concat(toaddac);
	snackbar_Loading(`Adding - ${atob(toaddac.username)}`);
	checkREADY22(false);
}
      );
};

module.addum = function addum() { 
document.getElementById("dilogttl").innerHTML="Add A Page";
document.getElementById("confrmbtn").innerHTML="Add";
document.getElementById("usrnnm").innerHTML="Location:";
document.getElementById("usrnam").value="";
document.getElementById("gms").style.display="none";
document.getElementById("reassss").style.display="block";
document.getElementById("elsee").style.display="none";
document.getElementById("stat").style.display="none";
document.getElementById("reasnn").value="NO REASON";
section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  section.classList.remove("active");
  var toaddum = {};
	toaddum.location=document.getElementById("usrnam").value;
	toaddum.reason=document.getElementById("reasnn").value;
  actdata.undermaintenance=actdata.undermaintenance.concat(toaddum);
  toaddum={};
	section.classList.remove("active");
	snackbar_Loading(`Adding - ${actdata.undermaintenance[actdata.undermaintenance.length-1]}`);
	checkREADY22(false); 
}
      );
};

module.addgame = function addgame() { 
document.getElementById("dilogttl").innerHTML="Add A New Game";
document.getElementById("confrmbtn").innerHTML="Add";
document.getElementById("elsee").style.display="none";
document.getElementById("gms").style.display="block";
document.getElementById("stat").style.display="none";
document.getElementById("usrnnm").innerHTML="Name:";
document.getElementById("reassss").style.display="none";
document.getElementById("usrnam").value="Game";
document.getElementById("idg").value="gamee";
document.getElementById("urll").value="";
document.getElementById("img").value="";
document.getElementById("pssswrd").style.display="none";
section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  section.classList.remove("active");
  var toadd = {};
	toadd.id=document.getElementById("idg").value;
	toadd.title=document.getElementById("usrnam").value;
  toadd.url=document.getElementById("urll").value;
	toadd.image=document.getElementById("img").value;
  games=games.concat(toadd);
  toadd={};
	section.classList.remove("active");
	snackbar_Loading(`Adding - ${games[games.length-1]}`);
	checkREADY22(false); 
}
      );
};

module.edittum = function edittum(actid) { 
document.getElementById("dilogttl").innerHTML="Edit A Page";
document.getElementById("confrmbtn").innerHTML="Apply";
document.getElementById("usrnnm").innerHTML="Location:";
document.getElementById("gms").style.display="none";
document.getElementById("usrnam").value=actdata.undermaintenance[actid].location;
document.getElementById("elsee").style.display="none";
document.getElementById("stat").style.display="none";
document.getElementById("reassss").style.display="block";
document.getElementById("reasnn").value=actdata.undermaintenance[actid].reason;
section.classList.add("active")
cnfrm.addEventListener("click", () =>
{
  section.classList.remove("active");
	snackbar_Loading(`Saving - ${actdata.undermaintenance[actid].location}`);
  actdata.undermaintenance[actid].location=document.getElementById("usrnam").value;
	actdata.undermaintenance[actid].reason=document.getElementById("reasnn").value;
  section.classList.remove("active");
	checkREADY22(false);
}
      );
};

module.deactiv = function deactiv(actid) { 
snackbar_Loading(`Deactivating - ${atob(actdata.accounts[actid].username)}`);
actdata.accounts[actid].status="deactivated"
actdata.accounts[actid].deactreason="DEACTIVATED - NO REASON!"
checkREADY22(false);
};

module.delgm = function delgm(actid) { 
snackbar_Loading(`Erasing - ${games[actid].title}`);
var test3 = [];
for (let i2412 = 0; i2412 < games.length; i2412++) {
    if (games[i2412] !== games[actid]) {
        test3=test3.concat(games[i2412]);
    };
}
games=test3;
test3=[];
checkREADY22(false);
};

module.delfvr = function delfvr(actid) { 
snackbar_Loading(`Erasing - ${atob(actdata.deletedaccounts[actid].username)}`);
var test3 = [];
for (let i2412 = 0; i2412 < actdata.deletedaccounts.length; i2412++) {
    if (actdata.deletedaccounts[i2412] !== actdata.deletedaccounts[actid]) {
        test3=test3.concat(actdata.deletedaccounts[i2412]);
    };
}
actdata.deletedaccounts=test3;
test3=[];
checkREADY22(false);
};

module.delfvrum = function delfvrum(actid) { 
snackbar_Loading(`Erasing - ${atob(actdata.deletedaccounts[actid].username)}`);
var test4 = [];
for (let i2422 = 0; i2422 < actdata.undermaintenance.length; i2422++) {
    if (actdata.undermaintenance[i2422] !== actdata.undermaintenance[actid]) {
        test4=test4.concat(actdata.undermaintenance[i2422]);
    };
}
actdata.undermaintenance=test4;
test4=[];
checkREADY22(false);
};

module.susp = function susp(actid) {
snackbar_Loading(`Suspending - ${atob(actdata.accounts[actid].username)}`);
actdata.accounts[actid].status="suspended"
actdata.accounts[actid].deactreason="SUSPENDED - NO REASON!"
checkREADY22(false);
};
module.infofy = function infofy() {
  snackbar_Failg();
}
if(fistt==true){
document.getElementById('log').innerHTML = `INITIALIZING...`}
var uname = getCookie("usernamecred");
var ii2i= 0;
var role = ""
uname=btoa(uname)
while (ii2i < actdata.accounts.length){
	if(actdata.accounts[ii2i].username==uname){
		role=actdata.accounts[ii2i].role
	}
	ii2i++
}
var accesslevel = 0
if(role=="debugger"){ accesslevel=2}else{if(role=="moderator"){ accesslevel=3}if(role=="admin"){ accesslevel=4}}
if(role=="admin" || role=="moderator" || role=="debugger"){
	var accountsm = actdata.accounts
	Object.freeze(accountsm)
	var final = ``
	final = `STATUS: <span class=\"text\" id=\"statts\">${actdata.status.toUpperCase()}</span><select name="stattts" id="stattsin" style="border-width: 2px;display:none;"> <option value="danger">DANGER</option> <option value="secure">SECURE</option> <option value="hide">HIDE</option> <option value="newuserhide">NEWUSERHIDE</option> </select>&nbsp;&nbsp;&nbsp;<button class=\"btn\" id=\"stattsee\" onclick=\"module.editlog(0)\"><i class=\"fa fa-edit\"></i></button><button style=\"display:none;\" id=\"stattsconf\" class=\"btn\" onclick=\"module.editlogsave(0)\"><i class=\"fa-solid fa-check\"></i></button><br>`
	final += `LOGIN ATTEMPTS: <span class=\"text\" id=\"triess\">${actdata.tries-1}</span><input style="border-width: 2px;display:none;" id=\"triessin\" type=\"number\" max=\"100\" min=\"1\">&nbsp;&nbsp;&nbsp;<button id=\"triessed\" class=\"btn\" onclick=\"module.editlog(1)\"><i class="fa fa-edit"></i></button><button style=\"display:none;\" id=\"triessconf\" class=\"btn\" onclick=\"module.editlogsave(1)\"><i class=\"fa-solid fa-check\"></i></button><br><br>`
	final += `<div class='parent'><div class='child'><div class=\"collapsible\" style=\"display:inline-block\" >ACCOUNTS:&nbsp;&nbsp;&nbsp;</div></div><div class='child'><button style=\"display:inline-block;\" class=\"btn\" onclick=\"module.addac()\"><i class=\"fa fa-plus\"></i></button></div></div>`
	final +="<div class=\"ccontent\">"
  var accountsm = actdata.accounts
	var accountsdel = actdata.deletedaccounts
	Object.freeze(accountsm)
	var psw = "";
  var manage = false;
  var yself = false;
for (var i = 0; i < accountsm.length; i++) {
    (function(i) {
		var data2 = atob(accountsm[i].password);
		var data = atob(accountsm[i].username);
	      						var level = 0
                    if(accountsm[i].username==uname){yself=true}else{yself=false}
	      						if(accountsm[i].role=="debugger"){ level=2}else{if(accountsm[i].role=="moderator"){ level=3}if(accountsm[i].role=="admin"){ level=4}}
	      						if(accesslevel<level){psw = "********";manage=false}else{psw = data2; manage=true}
                    if(manage==false){
                      if(accountsm[i].status == "active"){
	                                final += `&nbsp;&nbsp;&nbsp;&nbsp;USERNAME: ${data}, PASSWORD: ${psw}, ROLE: ${accountsm[i].role.charAt(0).toUpperCase()+accountsm[i].role.slice(1)}, JOB: ${accountsm[i].job.charAt(0).toUpperCase()+accountsm[i].job.slice(1)}, STATUS: <span class=\"${accountsm[i].status}\">${accountsm[i].status.charAt(0).toUpperCase()+accountsm[i].status.slice(1)}&nbsp;&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btnerr\" onclick=\"module.errr(this.id)\"><i class="fa-solid fa-exclamation"></i></button><br>`}else{
									final += `&nbsp;&nbsp;&nbsp;&nbsp;USERNAME: ${data}, PASSWORD: ${psw}, ROLE: ${accountsm[i].role.charAt(0).toUpperCase()+accountsm[i].role.slice(1)}, JOB: ${accountsm[i].job.charAt(0).toUpperCase()+accountsm[i].job.slice(1)}, REASON: ${accountsm[i].deactreason}, STATUS: <span class=\"${accountsm[i].status}\">${accountsm[i].status.charAt(0).toUpperCase()+accountsm[i].status.slice(1)}&nbsp;&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btnerr\" onclick=\"module.errr(this.id)\"><i class="fa-solid fa-exclamation"></i></button><br>`
								}
                    }else{if(yself==true){
                      final += `&nbsp;&nbsp;&nbsp;&nbsp;USERNAME: ${data}, PASSWORD: ${psw}, ROLE: ${accountsm[i].role.charAt(0).toUpperCase()+accountsm[i].role.slice(1)}, JOB: ${accountsm[i].job.charAt(0).toUpperCase()+accountsm[i].job.slice(1)}, STATUS: <span class=\"${accountsm[i].status}\">${accountsm[i].status.charAt(0).toUpperCase()+accountsm[i].status.slice(1)}&nbsp;&nbsp;&nbsp;</span><button id=\"${i}\" class=\"selffbtn\" onclick=\"module.infofy()\"><i class=\"fa fa-check\"></i></button><br>`
                    }else{
	                                                           if(accountsm[i].status == "active"){
	                                final += `&nbsp;&nbsp;&nbsp;&nbsp;USERNAME: ${data}, PASSWORD: ${psw}, ROLE: ${accountsm[i].role.charAt(0).toUpperCase()+accountsm[i].role.slice(1)}, JOB: ${accountsm[i].job.charAt(0).toUpperCase()+accountsm[i].job.slice(1)}, STATUS: <span class=\"${accountsm[i].status}\">${accountsm[i].status.charAt(0).toUpperCase()+accountsm[i].status.slice(1)}&nbsp;&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.delac(this.id)\"><i class=\"fa fa-trash\"></i></button><span>&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.susp(this.id)\"><i class="fa-solid fa-timer"></i></button><span>&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.deactiv(this.id)\"><i class="fa-solid fa-octagon-exclamation"></i></button><span>&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.editt(this.id,0)\"><i class="fa fa-edit"></i></button><br>`}else{
									final += `&nbsp;&nbsp;&nbsp;&nbsp;USERNAME: ${data}, PASSWORD: ${psw}, ROLE: ${accountsm[i].role.charAt(0).toUpperCase()+accountsm[i].role.slice(1)}, JOB: ${accountsm[i].job.charAt(0).toUpperCase()+accountsm[i].job.slice(1)}, REASON: ${accountsm[i].deactreason}, STATUS: <span class=\"${accountsm[i].status}\">${accountsm[i].status.charAt(0).toUpperCase()+accountsm[i].status.slice(1)}&nbsp;&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.activ(this.id)\"><i class=\"fa fa-toggle-on\"></i></button><span>&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.delac(this.id)\"><i class=\"fa fa-trash\"></i></button><span>&nbsp;&nbsp;</span><button id=\"${i}\" class=\"btn\" onclick=\"module.editt(this.id,1)\"><i class="fa fa-edit"></i></button><br>`
								}}}              
if(i==accountsm.length-1){
					setTimeout(function(){
						final+=`TOTAL ${accountsm.length} ACCOUNTS`
            final+="</div><br>"
					final+=`<div class='parent'><div class='child'><div class=\"collapsible\" style=\"display:inline-block\" >DELETED ACCOUNTS:</div></div></div>`
          final +="<div class=\"ccontent\">"
					for (var ii22 = 0; ii22 < accountsdel.length; ii22++) {
    (function(ii22) { // protects i in an immediately called function
		var data4 = atob(accountsdel[ii22].password);
		var data3 = atob(accountsdel[ii22].username);
    	      						var level2 = 0
	      						if(accountsdel[ii22].role=="debugger"){ level2=2}else{if(accountsdel[ii22].role=="moderator"){ level2=3}if(accountsdel[ii22].role=="admin"){ level2=4}}
	      						if(accesslevel<level2){psw = "********"; manage=false}else{psw = data4; manage=true}
                    
	                                               
        						final += `&nbsp;&nbsp;&nbsp;&nbsp;USERNAME: ${data3}, PASSWORD: ${psw}, ROLE: ${accountsdel[ii22].role.charAt(0).toUpperCase()+accountsdel[ii22].role.slice(1)}, JOB: ${accountsdel[ii22].job.charAt(0).toUpperCase()+accountsdel[ii22].job.slice(1)}, REASON: ${accountsdel[ii22].reason}, STATUS: <span class=\"${accountsdel[ii22].status}\">${accountsdel[ii22].status.charAt(0).toUpperCase()+accountsdel[ii22].status.slice(1)}</span>/<span class=\"deactivated\">Deleted&nbsp;&nbsp;&nbsp;</span><button id=\"${ii22}\" class=\"btn\" onclick=\"module.rest(this.id)\"><i class=\"fa fa-undo\"></i></button><span>&nbsp;&nbsp;</span><button id=\"${ii22}\" class=\"btn\" onclick=\"module.edittdd(this.id)\"><i class="fa fa-edit"></i></button><span>&nbsp;&nbsp;</span><button id=\"${ii22}\" class=\"btn\" onclick=\"module.delfvr(this.id)\"><i class="fa-solid fa-eraser"></i></button><br>`
								if(ii22==accountsdel.length-1){
						setTimeout(function(){
			    	final+=`TOTAL ${accountsdel.length} DELETED ACCOUNTS`
            final+="</div><br>"
					final+=`<div class='parent'><div class='child'><div class=\"collapsible\" style=\"display:inline-block\" >PAGES UNDER MAINTENANCE:&nbsp;&nbsp;&nbsp;</div></div><div class='child'><button class=\"btn\" onclick=\"module.addum()\"><i class=\"fa fa-plus\"></i></button></div></div>`;
          final +="<div class=\"ccontent\">"
          for (var ii2 = 0; ii2 < actdata.undermaintenance.length; ii2++) {
    				(function(ii2) { 
					final+=`&nbsp;&nbsp;&nbsp;&nbsp;PAGE: ${actdata.undermaintenance[ii2].location}, REASON: ${actdata.undermaintenance[ii2].reason}&nbsp;&nbsp;&nbsp;<button id=\"${ii2}\" class=\"btn\" onclick=\"module.edittum(this.id)\"><i class="fa fa-edit"></i></button><span>&nbsp;&nbsp;</span><button id=\"${ii2}\" class=\"btn\" onclick=\"module.delfvrum(this.id)\"><i class="fa-solid fa-eraser"></i></button><br>`
                    if(ii2==actdata.undermaintenance.length-1){
						setTimeout(function(){
              if(ii2==actdata.undermaintenance.length-1){
							final+=`TOTAL ${actdata.undermaintenance.length} PAGES UNDER MAINTENANCE `
              final +="</div><br>"
              final+=`<div class='parent'><div class='child'><div class=\"collapsible\" style=\"display:inline-block\" >GAMES:&nbsp;&nbsp;&nbsp;</div></div><div class='child'><button class=\"btn\" onclick=\"module.addgame()\"><i class=\"fa fa-plus\"></i></button></div></div>`
              final +="<div class=\"ccontent\">"
              for (var i2 = 0; i2 < games.length; i2++) {
    				(function(i2) { 
              final+=`&nbsp;&nbsp;&nbsp;&nbsp;NAME: ${games[i2].title}, URL: <a href=\"${games[i2].url}\" class=\"text\">${games[i2].url}</a>, IMAGE: <a href=\"${games[i2].image}\" class=\"text\">${games[i2].image}</a>&nbsp;&nbsp;&nbsp;<button id=\"${i2}\" class=\"btn\" onclick=\"module.delgm(this.id)\"><i class=\"fa-solid fa-eraser\"></i></button><span>&nbsp;&nbsp;</span><button id=\"${i2}\" class=\"btn\" onclick=\"module.edittgm(this.id)\"><i class="fa fa-edit"></i></button><br>`
              if(i2==games.length-1){
                final+=`TOTAL ${games.length} GAMES `
                final+="</div><br>"
                setTimeout(function(){
                  final+=`HOSTS <br>`
                  for (var ii = 0; ii < hosts.length; ii++) {
    				(function(ii) {
              if(JSON.stringify(hosts[ii]).includes("uvconfig")){
              final+=`&nbsp;&nbsp;&nbsp;&nbsp;BARE: ${hosts[ii].uvconfig.bare}<br>`}
              if(ii==hosts.length-1){
                final+=`TOTAL ${hosts.length} HOSTS <br><br>`
                final+=`<button onclick="module.writeus()" class="save"><i class="fa fa-save"></i>&nbsp; Save&nbsp;</button>&nbsp;&nbsp;&nbsp;<button onclick="module.ssc();" class="save"><i class="fa-solid fa-download"></i>&nbsp; Load&nbsp;</button>`
							document.getElementById("log").style.margin="10px"
              document.getElementById('log').innerHTML = final
var coll = document.getElementsByClassName("collapsible");
var par = document.getElementsByClassName("parent");
var i;
var iii;
for (i = 0; i < coll.length; i++) {
  coll[i].addEventListener("click", function() {
    this.classList.toggle("active");
    for (iii = 0; iii < par.length; iii++) {
    if(par[iii].firstChild.firstChild==this){
    var content = par[iii].nextElementSibling;
    if (content.style.display === "block") {
      content.style.display = "none";
    } else {
      content.style.display = "block";
    }}
  }});
}
              }
            })(ii)}
							},40)}})(i2)}}
						},40)
        			}
      })(ii2)};
	}, 40)
      }
    })(ii22);
}
					}, 40)
      }

    })(i);
}
}else{
  window.location.replace(`${host}/forbidden`);
}}}
checkREADY22(true);

</script>
</section>
</body>
</html>
